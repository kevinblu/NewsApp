# 非常简陋的一个新闻客户端

## 介绍

之所以写这个应用，是为了体验重温一下MVP架构，这个app是我在周末两天，加上今天周二，空闲时间整出来的，也是是为了记录萌新，渣渣的学习之路。

开始写MVP结构的时候，想的很简单，定义一个View接口，负责展示所有数据，一个model接口，负责存数据与取数据，一个model对应的实现类，一个Presenter实体类，持有model和view接口实例，所有的数据交互都从这来。

项目具体结构如图，有mvp三个主要的包，分管MVP三层，model层负责数据的获取和存储，View层负责展示，Presenter层负责各种交互。

![1566895992789](C:\Users\bmi\Desktop\notes\img\1566895992789.png)

## 实现结果

打开app，默认呈现的是头条新闻，有10种不同的新闻来源可供选择，这里我偷懒了，使用了RecyclerView来水平的展示这些选项。每个新闻item也是使用的RecyclerView。点击其它来源时，请求新的数据，展现出不同页面的新闻。

![1566982673143](C:\Users\bmi\Desktop\notes\img\1566982673143.png)

![1566982698927](C:\Users\bmi\Desktop\notes\img\1566982698927.png)

![1566982710598](C:\Users\bmi\Desktop\notes\img\1566982710598.png)

点击任意一个新闻，进入一个WebView的Activity，里面呈现新闻的具体内容。

## 小结

其实这个新闻客户端写的很菜，主要是一个时间比较紧，最近忙着找工作，一个是渣渣还是学生，项目经验不足。

就像里面的每次新闻数据的请求，我其实是应该用缓存存起来的，虽然说retrofit里有缓存策略，但它是过了一段时间，如果发现过时，就会去请求新的数据，而这一部分新的数据，其实和之前的数据有很多重合，渣渣本应该将这些存入数据库，然后定时或者定量的清理这个数据库。不过也其实有部分原因是后台的请求方是第三方的局限，使得每次去请求，对方的返回结果其实都是一样的。

另外一个是过场动画，以前没觉得，现在发现没有过场动画是真的丑，然而渣渣这一块真的没怎么接触过，导致每次有新的网络请求，中间其实都会有些抖动。

最后一个是自己真的偷懒啦，每个页面的新闻其实可以使用fragment来展示的，但渣渣一想到10个fragment，就放弃了，就全部放在activity里了=。=

另外，欢迎评论。